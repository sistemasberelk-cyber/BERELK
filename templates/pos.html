{% extends "base.html" %}

{% block title %}Punto de Venta - StockApp{% endblock %}

{% block content %}
<div class="grid-dashboard" style="grid-template-columns: 2fr 1fr;">

    <!-- Left: Product Selection -->
    <div class="glass-card">
        <h2>Scanner / BÃºsqueda</h2>
        <input type="text" id="product-search" placeholder="Escanear Barcode o buscar nombre..." autofocus
            style="margin-top: 16px;">

        <div id="product-results"
            style="margin-top: 16px; display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 16px;">
            <!-- Rendered via JS -->
        </div>
    </div>

    <!-- Right: Current Cart -->
    <div class="glass-card" style="display: flex; flex-direction: column; justify-content: space-between;">
        <div>
            <h2>Carrito</h2>
            <table id="cart-table">
                <thead>
                    <tr>
                        <th>Producto</th>
                        <th>Cant</th>
                        <th>Total</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody id="cart-body">
                    <!-- Cart Items -->
                </tbody>
            </table>
        </div>

        <div style="margin-top: 24px; border-top: 1px solid rgba(0,0,0,0.1); padding-top: 16px;">
            <div
                style="display: flex; justify-content: space-between; font-size: 1.5rem; font-weight: 700; margin-bottom: 24px;">
                <span>Total:</span>
                <span id="cart-total">$0.00</span>
            </div>

            <button onclick="checkout()" class="btn"
                style="width: 100%; font-size: 1.2rem; padding: 16px;">Cobrar</button>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/pos.js"></script>
{% endblock %}